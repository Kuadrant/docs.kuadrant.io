
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.kuadrant.io/0.6.1/architecture/rfcs/0002-well-known-attributes/">
      
      
        <link rel="prev" href="../0001-rlp-v2/">
      
      
        <link rel="next" href="../0003-dns-policy/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.1.17">
    
    
      
        <title>RFC 0002: Well-known Attributes - Kuadrant Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#well-known-attributes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../../.."> 
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Kuadrant Documentation" class="md-header__button md-logo" aria-label="Kuadrant Documentation" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kuadrant Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              RFC 0002: Well-known Attributes
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kuadrant/docs.kuadrant.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Kuadrant Documentation" class="md-nav__button md-logo" aria-label="Kuadrant Documentation" data-md-component="logo">
      
  <img src="../../../assets/images/logo.png" alt="logo">

    </a>
    Kuadrant Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kuadrant/docs.kuadrant.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started-single-cluster/" class="md-nav__link">
        Single-Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started-multi-cluster/" class="md-nav__link">
        Multi-Cluster
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../docs/design/architectural-overview/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          Multi-Cluster
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Multi-Cluster
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/installation/control-plane-installation/" class="md-nav__link">
        Control Plane installation with Existing OCM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/installation/service-protection-installation/" class="md-nav__link">
        Service Protection installation with Existing OCM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Concepts and APIs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Concepts and APIs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
          DNSPolicy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          DNSPolicy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/dnspolicy/dnspolicy/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/reference/dnspolicy/" class="md-nav__link">
        Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          ManagedZone
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          ManagedZone
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/managed-zone/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/reference/managedzone/" class="md-nav__link">
        Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          TLSPolicy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          TLSPolicy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/tlspolicy/tls-policy/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/reference/tlspolicy/" class="md-nav__link">
        Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
          AuthPolicy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          AuthPolicy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/auth/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/reference/authpolicy/" class="md-nav__link">
        Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
          RateLimitPolicy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          RateLimitPolicy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/rate-limiting/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/reference/ratelimitpolicy/" class="md-nav__link">
        Reference
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          How-to Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          How-to Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
      
      
      
        <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          Multicluster
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Multicluster
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/gateways/define-and-place-a-gateway/" class="md-nav__link">
        Defining and Distributing Multicluster Gateways with OCM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/gateways/gateway-deletion/" class="md-nav__link">
        Gateway Deletion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/how-to/multicluster-gateways-walkthrough/" class="md-nav__link">
        Multicluster Walkthrough
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          Single Cluster
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Single Cluster
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/user-guides/secure-protect-connect/" class="md-nav__link">
        Secure, connect and protect
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          DNS configuration and load balancing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          DNS configuration and load balancing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/dnspolicy/dnspolicy-quickstart/" class="md-nav__link">
        Basic DNSPolicy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/dnspolicy/dns-health-checks/" class="md-nav__link">
        DNS Health Checks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/dnspolicy/dns-provider/" class="md-nav__link">
        DNS Providers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/how-to/multicluster-loadbalanced-dnspolicy/" class="md-nav__link">
        Multicluster LoadBalanced DNSPolicy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
      
      
      
        <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
          TLS configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          TLS configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/tlspolicy/tls-policy/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
      
      
      
        <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
          Authentication & Authorization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Authentication & Authorization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/user-guides/auth-for-app-devs-and-platform-engineers/" class="md-nav__link">
        AuthPolicy for Application Developers and Platform Engineers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/kubernetes-tokenreview/" class="md-nav__link">
        Authentication with Kubernetes tokens (TokenReview API)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/api-key-authentication/" class="md-nav__link">
        Authentication with API keys
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/mtls-authentication/" class="md-nav__link">
        Authentication with X.509 certificates and mTLS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/oidc-jwt-authentication/" class="md-nav__link">
        OpenID Connect Discovery and authentication with JWTs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/oauth2-token-introspection/" class="md-nav__link">
        OAuth 2.0 token introspection (RFC 7662)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/passing-credentials/" class="md-nav__link">
        Passing credentials (`Authorization` header, cookie headers and others)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/http-basic-authentication/" class="md-nav__link">
        HTTP "Basic" Authentication (RFC 7235)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/anonymous-access/" class="md-nav__link">
        Anonymous access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/token-normalization/" class="md-nav__link">
        Token normalization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/edge-authentication-architecture-festival-wristbands/" class="md-nav__link">
        Edge Authentication Architecture (EAA)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/external-metadata/" class="md-nav__link">
        Fetching auth metadata from external sources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/oidc-user-info/" class="md-nav__link">
        OpenID Connect UserInfo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/resource-level-authorization-uma/" class="md-nav__link">
        Resource-level authorization with User-Managed Access (UMA) resource registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/json-pattern-matching-authorization/" class="md-nav__link">
        Simple pattern-matching authorization policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/oidc-rbac/" class="md-nav__link">
        OpenID Connect (OIDC) and Role-Based Access Control (RBAC) with Keycloak
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/opa-authorization/" class="md-nav__link">
        Open Policy Agent (OPA) Rego policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/kubernetes-subjectaccessreview/" class="md-nav__link">
        Kubernetes RBAC for service authorization (SubjectAccessReview API)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/keycloak-authorization-services/" class="md-nav__link">
        Authorization with Keycloak Authorization Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/authzed/" class="md-nav__link">
        Integration with Authzed/SpiceDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/injecting-data/" class="md-nav__link">
        Injecting data in the request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/authenticated-rate-limiting-envoy-dynamic-metadata/" class="md-nav__link">
        Emitting Envoy Dynamic Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/deny-with-redirect-to-login/" class="md-nav__link">
        Redirecting to a login page
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/envoy-jwt-authn-and-authorino/" class="md-nav__link">
        Reusing Envoy built-in authentication filter result
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/validating-webhook/" class="md-nav__link">
        Setting up Kuadrant authorization service as a Validating Webhook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/caching/" class="md-nav__link">
        Caching
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
          Rate Limiting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Rate Limiting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/how-to/simple-ratelimitpolicy-for-app-developers/" class="md-nav__link">
        RateLimitPolicy for Application Developers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/user-guides/gateway-rl-for-cluster-operators/" class="md-nav__link">
        RateLimitPolicy for Platform Engineers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/user-guides/authenticated-rl-for-app-developers/" class="md-nav__link">
        Authenticated Rate Limiting for Application Developers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/user-guides/authenticated-rl-with-jwt-and-k8s-authnz/" class="md-nav__link">
        Authenticated Rate Limiting with JWTs and Kubernetes RBAC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
      
      
      
        <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
          Observability
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Observability
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/how-to/metrics-walkthrough/" class="md-nav__link">
        Multi-Cluster Metrics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/observability/" class="md-nav__link">
        Authentication and Authorization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Experimental
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Experimental
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/experimental/skupper-poc-2-gateways-resiliency-walkthrough/" class="md-nav__link">
        Kuadrant and Skupper Gateway Resiliency
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/experimental/submariner-poc-2-gateways-resiliency-walkthrough/" class="md-nav__link">
        Kuadrant and Submariner Gateway Resiliency
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Proposals
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Proposals
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
          Request For Comments (RFC)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_8_1">
          <span class="md-nav__icon md-icon"></span>
          Request For Comments (RFC)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../0001-rlp-v2/" class="md-nav__link">
        RFC 0001: RateLimitPolicy API "v2"
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        RFC 0002: Well-known Attributes
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../0003-dns-policy/" class="md-nav__link">
        RFC 0003: DNSPolicy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../0004-policy-status/" class="md-nav__link">
        RFC 0004: Policy Status
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
      
      
      
        <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
          Multicluster Gateway Controller
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8_2">
          <span class="md-nav__icon md-icon"></span>
          Multicluster Gateway Controller
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/proposals/multiple-dns-provider-support/" class="md-nav__link">
        Multiple DNS Provider Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/proposals/status-aggregation/" class="md-nav__link">
        Aggregation of Status Conditions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" >
      
      
      
        <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
          Kuadrant Operator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_1">
          <span class="md-nav__icon md-icon"></span>
          Kuadrant Operator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/development/" class="md-nav__link">
        Developer's Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kuadrant-operator/doc/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2" >
      
      
      
        <label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
          Authorino
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_2">
          <span class="md-nav__icon md-icon"></span>
          Authorino
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino-operator/" class="md-nav__link">
        Authorino Operator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/hello-world/" class="md-nav__link">
        Hello World
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/features/" class="md-nav__link">
        Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_2_7" >
      
      
      
        <label class="md-nav__link" for="__nav_9_2_7" id="__nav_9_2_7_label" tabindex="0">
          Advanced features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_2_7">
          <span class="md-nav__icon md-icon"></span>
          Advanced features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/host-override/" class="md-nav__link">
        Host override via context extension
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/user-guides/sharding/" class="md-nav__link">
        Reducing the operational space: sharding, noise and multi-tenancy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../authorino/docs/contributing/" class="md-nav__link">
        Developer's Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3" >
      
      
      
        <label class="md-nav__link" for="__nav_9_3" id="__nav_9_3_label" tabindex="0">
          Limitador
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_3">
          <span class="md-nav__icon md-icon"></span>
          Limitador
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador/doc/how-it-works/" class="md-nav__link">
        How it works
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador/doc/topologies/" class="md-nav__link">
        Topologies
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_9_3_4" id="__nav_9_3_4_label" tabindex="0">
          Server
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_3_4">
          <span class="md-nav__icon md-icon"></span>
          Server
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador/limitador-server/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador/limitador-server/kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador/limitador-server/docs/sandbox/" class="md-nav__link">
        Sandbox
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador/limitador/" class="md-nav__link">
        Crate
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_3_6" >
      
      
      
        <label class="md-nav__link" for="__nav_9_3_6" id="__nav_9_3_6_label" tabindex="0">
          Limitador Operator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_3_6">
          <span class="md-nav__icon md-icon"></span>
          Limitador Operator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador-operator/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador-operator/doc/storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador-operator/doc/rate-limit-headers/" class="md-nav__link">
        Rate limit headers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador-operator/doc/development/" class="md-nav__link">
        Developer's Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../limitador-operator/doc/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4" >
      
      
      
        <label class="md-nav__link" for="__nav_9_4" id="__nav_9_4_label" tabindex="0">
          Multicluster Gateway Controller
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_4">
          <span class="md-nav__icon md-icon"></span>
          Multicluster Gateway Controller
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_9_4_2" id="__nav_9_4_2_label" tabindex="0">
          Contribution
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_4_2">
          <span class="md-nav__icon md-icon"></span>
          Contribution
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../multicluster-gateway-controller/docs/contribution/vscode-debugging/" class="md-nav__link">
        Debugging with VSCode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/kuadrant/architecture/blob/main/rfcs/0002-well-known-attributes.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="well-known-attributes">Well-known Attributes</h1>
<ul>
<li>Feature Name: <code>well-known-attributes</code></li>
<li>Start Date: 2023-06-13</li>
<li>RFC PR: <a href="https://github.com/Kuadrant/architecture/pull/17">Kuadrant/architecture#17</a></li>
<li>Issue tracking: <a href="https://github.com/Kuadrant/architecture/issues/53">Kuadrant/architecture#53</a></li>
</ul>
<h1 id="summary">Summary</h1>
<p>Define a well-known structure for users to declare request data selectors in their RateLimitPolicies and AuthPolicies. This structure is referred to as the Kuadrant <em>Well-known Attributes</em>.</p>
<h1 id="motivation">Motivation</h1>
<p>The well-known attributes let users write policy rules – conditions and, in general, dynamic values that refer to attributes in the data plane - in a concise and seamless way.</p>
<p>Decoupled from the policy CRDs, the well-known attributes:
1. define a common language for referring to values of the data plane in the Kuadrant policies;
2. allow dynamically evolving the policy APIs regarding how they admit references to data plane attributes;
3. encompass all common and component-specific selectors for data plane attributes;
4. have a single and unified specification, although this specification may occasionally link to additional, component-specific, external docs.</p>
<h1 id="guide-level-explanation">Guide-level explanation</h1>
<p>One who writes a Kuadrant policy and wants to build policy constructs such as conditions, qualifiers, variables, etc, based on dynamic values of the data plane, must refer the attributes that carry those values, using the declarative language of Kuadrant's <em>Well-known Attributes</em>.</p>
<p>A dynamic data plane value is typically a value of an attribute of the request or an <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata">Envoy Dynamic Metadata</a> entry. It can be a value of the outer request being handled by the API gateway or proxy that is managed by Kuadrant ("context request") or an attribute of the direct request to the Kuadrant component that delivers the functionality in the data plane (rate-limiting or external auth).</p>
<p>A <em>Well-known Selector</em> is a construct of a policy API whose value contains a direct reference to a well-known attribute. The language of the well-known attributes and therefore what one would declare within a well-known selector resembles a JSON path for navigating a possibly complex JSON object.</p>
<p><strong>Example 1.</strong> Well-known selector used in a condition</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">apiGroup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">examples.kuadrant.io</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PaintPolicy</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nt">spec</span><span class="p">:</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">when</span><span class="p">:</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">selector</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auth.identity.group</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">      </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">eq</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="nt">color</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">red</span>
</span></code></pre></div>
<p>In the example, <code>auth.identity.group</code> is a well-known selector of an attribute <code>group</code>, known to be injected by the external authorization service (<code>auth</code>) to describe the group the user (<code>identity</code>) belongs to. In the data plane, whenever this value is equal to <code>admin</code>, the abstract <code>PaintPolicy</code> policy states that the traffic must be painted <code>red</code>.</p>
<p><strong>Example 2.</strong> Well-known selector used in a variable</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nt">apiGroup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">examples.kuadrant.io</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PaintPolicy</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nt">spec</span><span class="p">:</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">color</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">red</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="nt">alpha</span><span class="p">:</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">      </span><span class="nt">dynamic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">request.headers.x-color-alpha</span>
</span></code></pre></div>
<p>In the example, <code>request.headers.x-color-alpha</code> is a selector of a well-known attribute <code>request.headers</code> that gives access to the headers of the context HTTP request. The selector retrieves the value of the <code>x-color-alpha</code> request header to dynamically fill the <code>alpha</code> property of the abstract <code>PaintPolicy</code> policy at each request.</p>
<h1 id="reference-level-explanation">Reference-level explanation</h1>
<p>The <em>Well-known Attributes</em> are a compilation inspired by some of the <a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes"><strong>Envoy attributes</strong></a> and Authorino's <a href="https://github.com/Kuadrant/authorino/blob/main/docs/architecture.md#the-authorization-json"><strong>Authorization JSON</strong></a> and its related <a href="https://github.com/Kuadrant/authorino/blob/main/docs/features.md#common-feature-json-paths-valuefromauthjson">JSON paths</a>.</p>
<p>From the Envoy attributes, only attributes that are available before establishing connection with the upstream server qualify as a Kuadrant well-known attribute. This excludes attributes such as the response attributes and the upstream attributes.</p>
<p>As for the attributes inherited from Authorino, these are either based on Envoy's <a href="https://pkg.go.dev/github.com/envoyproxy/go-control-plane/envoy/service/auth/v3?utm_source=gopls#AttributeContext"><code>AttributeContext</code></a> type of the external auth request API or from internal types defined by Authorino to fulfill the <a href="https://github.com/Kuadrant/authorino/blob/main/docs/architecture.md#the-auth-pipeline-aka-enforcing-protection-in-request-time">Auth Pipeline</a>.</p>
<p>These two subsets of attributes are unified into a single set of well-known attributes. For each attribute that exists in both subsets, the name of the attribute as specified in the Envoy attributes subset prevails. Example of such is <code>request.id</code> (to refer to the ID of the request) superseding <code>context.request.http.id</code> (as the same attribute is referred in an Authorino <a href="https://github.com/Kuadrant/authorino/blob/main/docs/architecture.md#the-authorino-authconfig-custom-resource-definition-crd"><code>AuthConfig</code></a>).</p>
<p><br/></p>
<p>The next sections specify the well-known attributes organized in the following groups:
- <a href="#request-attributes">Request attributes</a>
- <a href="#connection-attributes">Connection attributes</a>
- <a href="#metadata-and-filter-state-attributes">Metadata and filter state attributes</a>
- <a href="#auth-attributes">Auth attributes</a>
- <a href="#rate-limit-attributes">Rate-limit attributes</a></p>
<h2 id="request-attributes">Request attributes</h2>
<p>The following attributes are related to the context HTTP request that is handled by the API gateway or proxy managed by Kuadrant.</p>
<table>
  <thead>
    <tr>
      <th><p>Attribute</p></th>
      <th><p>Type</p></th>
      <th><p>Description</p></th>
      <th><p>Auth</p></th>
      <th><p>RL</p></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p>request.id</p></td>
      <td><p>String</p></td>
      <td><p>Request ID corresponding to <code><span>x-request-id</span></code> header value</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.time</p></td>
      <td><p>Timestamp</p></td>
      <td><p>Time of the first byte received</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.protocol</p></td>
      <td><p>String</p></td>
      <td><p>Request protocol (“HTTP/1.0”, “HTTP/1.1”, “HTTP/2”, or “HTTP/3”)</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.scheme</p></td>
      <td><p>String</p></td>
      <td><p>The scheme portion of the URL e.g. “http”</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.host</p></td>
      <td><p>String</p></td>
      <td><p>The host portion of the URL</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.method</p></td>
      <td><p>String</p></td>
      <td><p>Request method e.g. “GET”</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.path</p></td>
      <td><p>String</p></td>
      <td><p>The path portion of the URL</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.url_path</p></td>
      <td><p>String</p></td>
      <td><p>The path portion of the URL without the query string</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.query</p></td>
      <td><p>String</p></td>
      <td><p>The query portion of the URL in the format of “name1=value1&amp;name2=value2”</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.headers</p></td>
      <td><p>Map&lt;String, String&gt;</p></td>
      <td><p>All request headers indexed by the lower-cased header name</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.referer</p></td>
      <td><p>String</p></td>
      <td><p>Referer request header</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.useragent</p></td>
      <td><p>String</p></td>
      <td><p>User agent request header</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>request.size</p></td>
      <td><p>Number</p></td>
      <td><p>The HTTP request size in bytes. If unknown, it must be -1</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>request.body</p></td>
      <td><p>String</p></td>
      <td><p>The HTTP request body. (Disabled by default. Requires additional proxy configuration to enabled it.)</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>request.raw_body</p></td>
      <td><p>Array&lt;Number&gt;</p></td>
      <td><p>The HTTP request body in bytes. This is sometimes used instead of <code>body</code> depending on the proxy configuration.</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>request.context_extensions</p></td>
      <td><p>Map&lt;String, String&gt;</p></td>
      <td><p>This is analogous to <code>request.headers</code>, however these contents are not sent to the upstream server. It provides an extension mechanism for sending additional information to the auth service without modifying the proto definition. It maps to the internal opaque context in the proxy filter chain. (Requires additional configuration in the proxy.)</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
  </tbody>
</table>

<h2 id="connection-attributes">Connection attributes</h2>
<p>The following attributes are available once the downstream connection with the API gateway or proxy managed by Kuadrant is established. They apply to HTTP requests (L7) as well, but also to proxied connections limited at L3/L4.</p>
<table>
  <thead>
    <tr>
      <th><p>Attribute</p></th>
      <th><p>Type</p></th>
      <th><p>Description</p></th>
      <th><p>Auth</p></th>
      <th><p>RL</p></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p>source.address</p></td>
      <td><p>String</p></td>
      <td><p>Downstream connection remote address</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>source.port</p></td>
      <td><p>Number</p></td>
      <td><p>Downstream connection remote port</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>source.service</p></td>
      <td><p>String</p></td>
      <td><p>The canonical service name of the peer</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>source.labels</p></td>
      <td><p>Map&lt;String, String&gt;</p></td>
      <td><p>The labels associated with the peer. These could be pod labels for Kubernetes or tags for VMs. The source of the labels could be an X.509 certificate or other configuration.</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>source.principal</p></td>
      <td><p>String</p></td>
      <td><p>The authenticated identity of this peer. If an X.509 certificate is used to assert the identity in the proxy, this field is sourced from “URI Subject Alternative Names“, “DNS Subject Alternate Names“ or “Subject“ in that order. The format is issuer specific – e.g. SPIFFE format is <code>spiffe://trust-domain/path</code>, Google account format is <code>https://accounts.google.com/{userid}</code>.</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>source.certificate</p></td>
      <td><p>String</p></td>
      <td><p>The X.509 certificate used to authenticate the identify of this peer. When present, the certificate contents are encoded in URL and PEM format.</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>destination.address</p></td>
      <td><p>String</p></td>
      <td><p>Downstream connection local address</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>destination.port</p></td>
      <td><p>Number</p></td>
      <td><p>Downstream connection local port</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>destination.service</p></td>
      <td><p>String</p></td>
      <td><p>The canonical service name of the peer</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>destination.labels</p></td>
      <td><p>Map&lt;String, String&gt;</p></td>
      <td><p>The labels associated with the peer. These could be pod labels for Kubernetes or tags for VMs. The source of the labels could be an X.509 certificate or other configuration.</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>destination.principal</p></td>
      <td><p>String</p></td>
      <td><p>The authenticated identity of this peer. If an X.509 certificate is used to assert the identity in the proxy, this field is sourced from “URI Subject Alternative Names“, “DNS Subject Alternate Names“ or “Subject“ in that order. The format is issuer specific – e.g. SPIFFE format is <code>spiffe://trust-domain/path</code>, Google account format is <code>https://accounts.google.com/{userid}</code>.</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>destination.certificate</p></td>
      <td><p>String</p></td>
      <td><p>The X.509 certificate used to authenticate the identify of this peer. When present, the certificate contents are encoded in URL and PEM format.</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>connection.id</p></td>
      <td><p>Number</p></td>
      <td><p>Downstream connection ID</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.mtls</p></td>
      <td><p>Boolean</p></td>
      <td><p>Indicates whether TLS is applied to the downstream connection and the peer ceritificate is presented</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.requested_server_name</p></td>
      <td><p>String</p></td>
      <td><p>Requested server name in the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.tls_session.sni</p></td>
      <td><p>String</p></td>
      <td><p>SNI used for TLS session</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>connection.tls_version</p></td>
      <td><p>String</p></td>
      <td><p>TLS version of the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.subject_local_certificate</p></td>
      <td><p>String</p></td>
      <td><p>The subject field of the local certificate in the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.subject_peer_certificate</p></td>
      <td><p>String</p></td>
      <td><p>The subject field of the peer certificate in the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.dns_san_local_certificate</p></td>
      <td><p>String</p></td>
      <td><p>The first DNS entry in the SAN field of the local certificate in the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.dns_san_peer_certificate</p></td>
      <td><p>String</p></td>
      <td><p>The first DNS entry in the SAN field of the peer certificate in the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.uri_san_local_certificate</p></td>
      <td><p>String</p></td>
      <td><p>The first URI entry in the SAN field of the local certificate in the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.uri_san_peer_certificate</p></td>
      <td><p>String</p></td>
      <td><p>The first URI entry in the SAN field of the peer certificate in the downstream TLS connection</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>connection.sha256_peer_certificate_digest</p></td>
      <td>String</td>
      <td><p>SHA256 digest of the peer certificate in the downstream TLS connection if present</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
  </tbody>
</table>

<h2 id="metadata-and-filter-state-attributes">Metadata and filter state attributes</h2>
<p>The following attributes are related to the Envoy proxy filter chain. They include metadata exported by the proxy throughout the filters and information about the states of the filters themselves.</p>
<table>
  <thead>
    <tr>
      <th><p>Attribute</p></th>
      <th><p>Type</p></th>
      <th><p>Description</p></th>
      <th><p>Auth</p></th>
      <th><p>RL</p></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p>metadata</p></td>
      <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
      <td><p>Dynamic request metadata</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>filter_state</p></td>
      <td><p>Map&lt;String, String&gt;</p></td>
      <td><p>Mapping from a filter state name to its serialized string value</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
  </tbody>
</table>

<h2 id="auth-attributes">Auth attributes</h2>
<p>The following attributes are exclusive of the external auth service (Authorino).</p>
<table>
  <thead>
    <tr>
      <th><p>Attribute</p></th>
      <th><p>Type</p></th>
      <th><p>Description</p></th>
      <th><p>Auth</p></th>
      <th><p>RL</p></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p>auth.identity</p></td>
      <td><p>Any</p></td>
      <td><p>Single resolved identity object, post-identity verification</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>auth.metadata</p></td>
      <td><p>Map&lt;String, Any&gt;</p></td>
      <td><p>External metadata fetched</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>auth.authorization</p></td>
      <td><p>Map&lt;String, Any&gt;</p></td>
      <td><p>Authorization results resolved by each authorization rule, access granted only</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>auth.response</p></td>
      <td><p>Map&lt;String, Any&gt;</p></td>
      <td><p>Response objects exported by the auth service post-access granted</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
    <tr>
      <td><p>auth.callbacks</p></td>
      <td><p>Map&lt;String, Any&gt;</p></td>
      <td><p>Response objects returned by the callback requests issued by the auth service</p></td>
      <td align="center"><p>✓</p></td>
      <td align="center"><p></p></td>
    </tr>
  </tbody>
</table>

<p>The auth service also supports modifying selected values by chaining <a href="https://github.com/Kuadrant/authorino/blob/main/docs/features.md#string-modifiers">modifiers</a> in the path.</p>
<h2 id="rate-limit-attributes">Rate-limit attributes</h2>
<p>The following attributes are exclusive of the rate-limiting service (Limitador).</p>
<table>
  <thead>
    <tr>
      <th><p>Attribute</p></th>
      <th><p>Type</p></th>
      <th><p>Description</p></th>
      <th><p>Auth</p></th>
      <th><p>RL</p></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><p>ratelimit.domain</p></td>
      <td><p>String</p></td>
      <td><p>The rate limit domain. This enables the configuration to be namespaced per application (multi-tenancy).</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
    <tr>
      <td><p>ratelimit.hits_addend</p></td>
      <td><p>Number</p></td>
      <td><p>Specifies the number of hits a request adds to the matched limit. Fixed value: `1`. Reserved for future usage.</p></td>
      <td align="center"><p></p></td>
      <td align="center"><p>✓</p></td>
    </tr>
  </tbody>
</table>

<h1 id="drawbacks">Drawbacks</h1>
<p>The decoupling of the well-known attributes and the language of well-known attributes and selectors from the individual policy CRDs is what makes it somewhat flexible and common across the components (rate-limiting and auth). However, it's less structured and it introduces another syntax for users to get familiar with.</p>
<p>This additional language competes with the language of the route selectors (<a href="https://github.com/Kuadrant/architecture/blob/main/rfcs/0001-rlp-v2.md">RFC 0001</a>), based on Gateway API's <a href="https://gateway-api.sigs.k8s.io/v1alpha2/references/spec/#gateway.networking.k8s.io/v1beta1.HTTPRouteMatch"><code>HTTPRouteMatch</code></a> type.</p>
<p>Being "soft-coded" in the policy specs (as opposed to a hard-coded sub-structure inside of each policy type) does not mean it's completely decoupled from implementation in the control plane and/or intermediary data plane components. Although many attributes can be supported almost as a pass-through, from being used in a selector in a policy, to a corresponding value requested by the wasm-shim to its host, that is not always the case. Some translation may be required for components not integrated via wasm-shim (e.g. Authorino), as well as for components integrated via wasm-shim (e.g. Limitador) in special cases of composite or abstraction well-known attributes (i.e. attributes not available as-is via ABI, e.g. <code>auth.identity</code> in a RLP). Either way, some validation of the values introduced by users in the selectors may be needed at some point in the control plane, thus requiring arguably a level of awaresness and coupling between the well-known selectors specification and the control plane (policy controllers) or intermediary data plane (wasm-shim) components.</p>
<h1 id="rationale-and-alternatives">Rationale and alternatives</h1>
<p>As an alternative to JSON path-like selectors based on a well-known structure that induces the proposed language of well-known attributes, these same attributes could be defined as sub-types of each policy CRD. The Golang packages defining the common attributes across CRDs could be shared by the policy type definitions to reduce repetition. However, that approach would possibly involve a staggering number of new type definitions to cover all the cases for all the groups of attributes to be supported. These are constructs that not only need to be understood by the policy controllers, but also known by the user who writes a policy.</p>
<p>Additionally, all attributes, including new attributes occasionally introduced by Envoy and made available to the wasm-shim via ABI, would always require translation from the user-level abstraction how it's represented in a policy, to the actual form how it's used in the wasm-shim configuration and Authorino AuthConfigs.</p>
<p>Not implementing this proposal and keeping the current state of things mean little consistency between these common constructs for rules and conditions on how they are represented in each type of policy. This lack of consistency has a direct impact on the overhead faced by users to learn how to interact with Kuadrant and write different kinds of policies, as well as for the maintainers on tasks of coding for policy validation and reconciliation of data plane configurations.</p>
<h1 id="prior-art">Prior art</h1>
<p>Authorino's dynamic <a href="https://github.com/Kuadrant/authorino/blob/main/docs/features.md#common-feature-json-paths-valuefromauthjson">JSON paths</a>, related to Authorino's <a href="https://github.com/Kuadrant/authorino/blob/main/docs/architecture.md#the-authorization-json">Authorization JSON</a> and used in <code>when</code> conditions and inside of multiple other constructs of the AuthConfig, are an example of feature of very similar approach to the one proposed here.</p>
<p>Arguably, Authorino's perceived flexibility would not have been possible with the Authorization JSON selectors. Users can write quite sophisticated policy rules (conditions, variable references, etc) by leveraging the those dynamic selectors. Because they are backed by JSON-based machinery in the code, Authorino's selectors have very little to, in some cases, none at all variation compared <a href="https://www.openpolicyagent.org/docs/latest/policy-reference/">Open Policy Agent's Rego policy language</a>, which is often used side by side in the same AuthConfigs.</p>
<p>Authorino's Authorization JSON selectors are, in one hand, more restrict to the structure of the <a href="https://pkg.go.dev/github.com/envoyproxy/go-control-plane/envoy/service/auth/v3?utm_source=gopls#CheckRequest"><code>CheckRequest</code></a> payload (<code>context.*</code> attributes). At the same time, they are very open in the part associated with the internal attributes built along the Auth Pipeline (i.e. <code>auth.*</code> attributes). That makes Authorino's Authorization JSON selectors more limited, compared to the <a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes">Envoy attributes</a> made available to the wasm-shim via ABI, but also harder to validate. In some cases, such as of deep references to inside objects fetched from external sources of metadata, resolved OPA objects, JWT claims, etc, it is impossible to validate for correct references.</p>
<p>Another experience learned from Authorino's Authorization JSON selectors is that they depend substantially on the so-called "<a href="https://github.com/Kuadrant/authorino/blob/main/docs/features.md#string-modifiers">modifiers</a>". Many use cases involving parsing and breaking down attributes that are originally available in a more complex form would not be possible without the modifiers. Examples of such cases are: extracting portions of the path and/or query string parameters (e.g. collection and resource identifiers), applying translations on HTTP verbs into corresponding operations, base64-decoding values from the context HTTP request, amongst several others.</p>
<h1 id="unresolved-questions">Unresolved questions</h1>
<ol>
<li>
<p>How to deal with the differences regarding the availability and data types of the attributes across clients/hosts?</p>
</li>
<li>
<p>Can we make more attributes that are currently available to only one of the components common to both?</p>
</li>
<li>
<p>Will we need some kind of global support for modifiers (functions) in the well-known selectors or those can continue to be an Authorino-only feature?</p>
</li>
<li>
<p>Does Authorino, which is more strict regarding the data structure that induces the selectors, need to implement this specification or could/should it keep its current selectors and a translation be performed by the AuthPolicy controller?</p>
</li>
</ol>
<h1 id="future-possibilities">Future possibilities</h1>
<ol>
<li>Extend with more well-known attributes that abstract common patterns and/or for rather opinioned use cases. Examples:</li>
<li><code>auth.*</code> attributes supported in the rate limit service</li>
<li><code>request.authenticated</code></li>
<li><code>request.operation.(read|write)</code></li>
<li><code>request.param.my-param</code></li>
<li>
<p><code>connection.secure</code></p>
</li>
<li>
<p>Other Envoy attributes</p>
</li>
</ol>
<details>
  <summary><a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes#wasm-attributes">Wasm attributes</a></summary>

  <table>
    <thead>
      <tr>
        <th><p>Attribute</p></th>
        <th><p>Type</p></th>
        <th><p>Description</p></th>
        <th><p>Auth</p></th>
        <th><p>RL</p></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><p>wasm.plugin_name</p></td>
        <td><p>String</p></td>
        <td><p>Plugin name</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.plugin_root_id</p></td>
        <td><p>String</p></td>
        <td><p>Plugin root ID</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.plugin_vm_id</p></td>
        <td><p>String</p></td>
        <td><p>Plugin VM ID</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.node</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-node"><span>Node</span></a></p></td>
        <td><p>Local node description</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.cluster_name</p></td>
        <td><p>String</p></td>
        <td><p>Upstream cluster name</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.cluster_metadata</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
        <td><p>Upstream cluster metadata</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.listener_direction</p></td>
        <td><p>Number</p></td>
        <td><p>Enumeration value of the <a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/listener/v3/listener.proto#envoy-v3-api-field-config-listener-v3-listener-traffic-direction"><span>listener traffic direction</span></a></p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.listener_metadata</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
        <td><p>Listener metadata</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.route_name</p></td>
        <td><p>String</p></td>
        <td><p>Route name</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.route_metadata</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
        <td><p>Route metadata</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>wasm.upstream_host_metadata</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
        <td><p>Upstream host metadata</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
    </tbody>
  </table>
</details>

<details>
  <summary><a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes#configuration-attributes">Proxy configuration attributes</a></summary>

  <table>
    <thead>
      <tr>
        <th><p>Attribute</p></th>
        <th><p>Type</p></th>
        <th><p>Description</p></th>
        <th><p>Auth</p></th>
        <th><p>RL</p></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><p>xds.cluster_name</p></td>
        <td><p>String</p></td>
        <td><p>Upstream cluster name</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>xds.cluster_metadata</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
        <td><p>Upstream cluster metadata</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>xds.route_name</p></td>
        <td><p>String</p></td>
        <td><p>Route name</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>xds.route_metadata</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
        <td><p>Route metadata</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>xds.upstream_host_metadata</p></td>
        <td><p><a href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/base.proto#envoy-v3-api-msg-config-core-v3-metadata">Metadata</a></p></td>
        <td><p>Upstream host metadata</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
      <tr>
        <td><p>xds.filter_chain_name</p></td>
        <td><p>String</p></td>
        <td><p>Listener filter chain name</p></td>
        <td align="center"><p></p></td>
        <td align="center"><p>✓</p></td>
      </tr>
    </tbody>
  </table>
</details>

<ol>
<li>Add some support for value modifiers (functions), along the lines of Authorino's <a href="https://github.com/Kuadrant/authorino/blob/main/docs/features.md#string-modifiers">JSON path modifiers</a> and/or Envoy attributes' <a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/advanced/attributes#path-expressions">path expressions</a>.</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer id="footer" class="footer">
  <div class="copyright">
    <p>Copyright <strong><span>The Kuadrant Contributors</span></strong>.</p>
    <p>The Linux Foundation® (TLF) has registered trademarks and uses trademarks.</p> 
    <p>For a list of TLF trademarks, see <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a></p>
  </div>

  <div class="sponsored-by">
    <p>
      <a href="https://www.cncf.io/sandbox-projects/"><img src="../../../assets/images/cncf-color.png" class="logo" alt="CNCF logo"></a>
    </p>
    <p>
      We are a Cloud Native Computing Foundation sandbox project.
    </p>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": ["0.6.1"], "provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b425cdc4.min.js"></script>
      
    
  </body>
</html>